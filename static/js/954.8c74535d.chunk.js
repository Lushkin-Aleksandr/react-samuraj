"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[954],{954:function(s,t,e){e.r(t),e.d(t,{default:function(){return U}});var n=e(8683),r=e(5671),o=e(3144),i=e(136),a=e(5716),u=e(2791),d=e(364),l="ProfileInfo_descriptionBlock__f048W",c="ProfileInfo_fullName__FYKBG",p=e(8987),f=e(885),h=e(184),x=function(s){var t=(0,u.useState)(!1),e=(0,f.Z)(t,2),n=e[0],r=e[1],o=(0,u.useState)(s.status),i=(0,f.Z)(o,2),a=i[0],d=i[1];(0,u.useEffect)((function(){d(s.status)}),[s.status]);return(0,h.jsxs)("div",{children:[!n&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"-----"})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(s){d(s.currentTarget.value)},onBlur:function(){r(!1),s.updateStatus(a)},value:a,autoFocus:!0})})]})},j=function(s){var t=s.profile,e=s.status,n=s.updateStatus;return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("img",{src:t.photos.large||p}),(0,h.jsx)("div",{children:(0,h.jsx)("p",{className:c,children:t.fullName})}),(0,h.jsx)(x,{status:e,updateStatus:n})]})})},m=e(6868),v={postsBlock:"MyPosts_postsBlock__Mw8xw",headerText:"MyPosts_headerText__KLwFT",addPost:"MyPosts_addPost__3mtHy"},P="Post_item__QGgmq",g=function(s){return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:""}),s.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:[s.likesCount," Likes"]})})]})})},_=e(6139),k=e(704),S=e(5304),Z=e(9086),C=(0,S.D)(10),N=(0,k.Z)({form:"addPostForm"})((function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,className:v.addPost,children:[(0,h.jsx)("div",{children:(0,h.jsx)(_.Z,{name:"newPost",placeholder:"Post message",component:Z.gx,validate:[S.C,C]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),w=function(s){return(0,h.jsx)(N,{onSubmit:function(t){s.addPost(t.newPost)}})};var y=function(s){var t=s.posts.map((function(s){return(0,h.jsx)(g,{message:s.message,likesCount:s.likesCount})}));return(0,h.jsxs)("div",{className:v.postsBlock,children:[(0,h.jsx)("h3",{className:v.headerText,children:"My posts"}),(0,h.jsx)(w,{addPost:s.addPost}),(0,h.jsx)("div",{className:v.posts,children:t})]})},b=(0,d.$j)((function(s){return{posts:s.profilePage.postsData}}),(function(s){return{addPost:function(t){s((0,m.Wl)(t))}}}))(y),B=e(6761);var I=function(s){return s.profile?(0,h.jsxs)("div",{children:[(0,h.jsx)(j,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,h.jsx)(b,{})]}):(0,h.jsx)(B.Z,{})},M=e(7781),D=e(5628),T=e(1548),F=function(s){(0,i.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.router.params.userId;s||(s=this.props.authorisedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,h.jsx)(I,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(u.Component),U=(0,M.qC)((0,d.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),D.Z,T.D)(F)}}]);
//# sourceMappingURL=954.8c74535d.chunk.js.map